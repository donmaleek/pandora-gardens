{{!==============================================================}}
{{!================ PASSWORD RESET EMAIL v2.5 =================}}
{{!==============================================================}}
{{!-- 
  SECURE PASSWORD RESET COMPONENT
  FEATURES:
  1. Time-sensitive reset link (15min expiry)
  2. IP Address & Device Logging
  3. Non-clickable URL fallback
  4. Dark mode support
  5. Security annotations

  REQUIRED DATA:
  - name: User's first name
  - resetLink: Tokenized reset URL
  - ipAddress: Requester's IP
  - userAgent: Requester's device info

  COMPATIBILITY:
  - [x] Gmail (Dark/Light)
  - [x] Outlook
  - [x] Apple Mail
  - [ ] Lotus Notes (security warning)
--}}
<mjml>
  <mj-head>
    <mj-title>Password Reset Request for {{name}}</mj-title>
    <mj-style>
      :root {
        --primary: #4CAF50;
        --text: #2d3748;
        --background: #ffffff;
      }
      @media (prefers-color-scheme: dark) {
        :root {
          --text: #e2e8f0;
          --background: #1a202c;
        }
      }
      .security-alert {
        background: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 12px;
        margin: 16px 0;
      }
    </mj-style>
  </mj-head>

  <mj-body background-color="var(--background)">
    {{!================= HEADER =================}}
    <mj-section padding="20px 0">
      <mj-column>
        <mj-image src="https://pandoragardens.com/logo-secure.png" 
                 alt="Pandora Gardens Security Shield" 
                 width="80px" />
      </mj-column>
    </mj-section>

    {{!================= MAIN CONTENT =================}}
    <mj-section padding="0 25px">
      <mj-column>
        <mj-text color="var(--text)" font-size="18px" padding="10px 0">
          Hello, <strong>{{name}}</strong>!
        </mj-text>

        <mj-text color="var(--text)" padding="10px 0">
          We received a password reset request from:
          <br>
          üìç <strong>{{ipAddress}}</strong> ({{userAgent}})
        </mj-text>

        <mj-divider border-color="#e2e8f0" padding="10px 0" />

        {{!============= SECURITY ALERT =============}}
        <mj-text css-class="security-alert" padding="15px">
          ‚ö†Ô∏è <strong>Security Notice:</strong> This link expires in 15 minutes
          and will be invalidated after use.
        </mj-text>

        {{!============= PRIMARY ACTION =============}}
        <mj-button href="{{resetLink}}" 
                 background-color="var(--primary)"
                 color="#ffffff"
                 padding="15px 30px"
                 border-radius="8px"
                 font-weight="600">
          üîí Reset Password Now
        </mj-button>

        {{!============= FALLBACK URL ==============}}
        <mj-text color="var(--text)" padding="20px 0 0">
          Can't click the button? Copy this URL:<br>
          <code style="word-break: break-all; color: #3182ce">
            {{resetLink}}
          </code>
        </mj-text>
      </mj-column>
    </mj-section>

    {{!================= FOOTER =================}}
    <mj-section padding="40px 0 20px">
      <mj-column>
        <mj-divider border-color="#e2e8f0" padding="10px 0" />
        <mj-text color="#718096" font-size="12px" line-height="1.5">
          üõ°Ô∏è <strong>Why did I get this?</strong><br>
          This request was made from IP address {{ipAddress}} at {{timestamp}}.<br>
          Not you? <a href="{{reportPhishingUrl}}" style="color: #e53e3e">Report suspicious activity</a>
        </mj-text>
      </mj-column>
    </mj-section>
  </mj-body>
</mjml>